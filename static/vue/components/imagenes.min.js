export default{template:'\n\t<div>\n\t    <form>\n\t\t<div class="form-group">\n\t\t    <label for="Agregar">Agregar imagenes</label>\n\t\t    <input name="" type="file" multiple value="" class="form-control" @change="processImg($event)"/>\n\t\t</div>\n\t    </form>\n\t    <hr/>\n\t    <h4 class="pull-sm-left">Imagenes subidas</h4> <p class="info info-default pull-sm-right">Para eliminar una imagen haga click sobre la misma</p>\n\t    <div class="row">\n\t\t<div class="col-sm-3 img-container" v-for="imagen in imagenes" @click="deleteCurrent(imagen.id)">\n\t\t    <img alt="" :src="\'../default/download/\'+ imagen.imagen" class="img-thumbnail"/>\n\t\t    <i class="fa fa-trash img-deletable"></i>\n\t\t</div>\n\t    </div>\n\t</div>\n    ',data:()=>({subir:[],imagenes:[],imagen:""}),methods:{datos(){axios.get("../servicios/api/imagenes").then(e=>this.imagenes=e.data.rows).catch(e=>e.data)},deleteCurrent(e){1==confirm("Esta imagen será eliminada, esta operación no puede ser revertida. ¿Confirmar?")&&axios.delete(`../servicios/api/imagenes/${e}`).then(e=>{console.log(e.data),this.datos()}).catch(e=>console.log(e.data))},postData(e,a){axios.post(e,a).then(e=>{console.log("file uploaded"),this.datos()}).catch(e=>{console.log(e.data)}),console.log("posting data")},processImg(e){var a=e.target.files,t=e.target.files.length;if(t>1){var i=new FormData;console.log("There are multiple files: "+t);for(var s=0;s<t;s++)console.log("Uploading file: "+s),i.append("titulo",a[s].name),i.append("imagen",a[s]),console.log(i.titulo),this.postData("../servicios/api/imagenes",i)}else if(1==t){let e=new FormData;console.log("There is a single file"),console.log("Uploading file..."),e.append("titulo",a[0].name),e.append("imagen",a[0]),this.postData("../servicios/api/imagenes",e)}}},mounted(){this.datos()}};